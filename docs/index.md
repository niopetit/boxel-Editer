# Boxel Editor ドキュメント目次

**プロジェクト名**: Boxel Editor  
**最終更新**: 2026年1月13日  
**状態**: 開発中

## プロジェクト構造

```
docs/
├── index.md                                    # このファイル - ドキュメント全体の目次
├── 01.システム要件定義書/                      # フェーズ1: 機能要件・非機能要件
│   └── システム要件定義書.md                  # 全体システム要件の定義
├── 02.画面要件定義書/                          # フェーズ2: UI/UX仕様
│   └── 画面要件定義書.md                      # 画面構成・インタラクション仕様
├── 03.システム仕様書/                          # フェーズ3: 技術仕様書詳細
│   ├── カメラ仕様書.md                        # カメラ機能の詳細仕様
│   ├── ファイル仕様書.md                      # glw・gltf形式の仕様
│   ├── 3Dオブジェクト仕様書.md                # ボクセル・メッシュデータ構造
│   ├── 着色システム仕様書.md                  # カラーパレット・面着色実装
│   ├── アンドゥリドゥ仕様書.md                # 操作履歴管理システム
│   └── 複数オブジェクト配置仕様書.md          # 隣接オブジェクト管理
├── 04.シェーダー仕様書/                        # フェーズ4: グラフィックス仕様
│   └── シェーダー仕様書.md                    # GLSL・グラフィックス実装
└── 99.コーディングルール/                      # コーディング規約
    └── コーディングルール.md
```

## ドキュメント詳細

### セクション1: システム要件定義書
**パス**: `docs/01.システム要件定義書/`  
**ステータス**: ✅ 完成  
**説明**: システムの機能要件、非機能要件、技術スタック、制約条件を定義  
**対象者**: プロダクトマネージャー、ビジネスアナリスト、開発チーム全体

**主なコンテンツ**:
- 3Dオブジェクト管理（グリッド設定、ボクセル構成、頂点統合）
- 頂点表示とシェーダー機能
- 材質・着色システム（面ごとの色管理）
- ユーザーインタラクション（ツールバー操作）
- カメラ設定（回転、パン、ズーム）
- ファイル機能（glw形式、gltf形式）
- 隣接オブジェクト配置（GLTF読み込み、回転機能）
- 技術スタック（React, Vite, Electron, Three.js, TypeScript）
- パフォーマンス・ユーザビリティ要件

### セクション2: 画面要件定義書
**パス**: `docs/02.画面要件定義書/`  
**ステータス**: ✅ 完成  
**説明**: UI仕様、画面レイアウト、ユーザーインタフェース要件を定義  
**対象者**: UIデザイナー、フロントエンド開発者

**主なコンテンツ**:
- 画面構成（メインキャンバス、左パネル、右パネル、ツールバー、ステータスバー）
- UI要素の詳細仕様（配色、レイアウト、サイズ）
- カラーパレット実装仕様
- 隣接オブジェクト管理パネル（右パネル）
- インタラクションフロー（ボクセル追加、面着色、ファイル操作）
- 視覚フィードバック（ハイライト、マウスオーバー効果）
- エラーハンドリング・確認ダイアログ
- アクセシビリティ要件

### セクション3: システム仕様書
**パス**: `docs/03.システム仕様書/`  
**ステータス**: ✅ 完成  
**説明**: 技術仕様の詳細定義。ファイル形式、データ構造、システム機能の実装仕様を統合管理  
**対象者**: 開発エンジニア、アーキテクト

**主なコンテンツ**:
- **カメラ仕様書**: カメラ操作（回転、パン、ズーム）の詳細仕様、トランスフォーム計算
- **ファイル仕様書**: glw形式（JSON）とgltf形式の詳細構造、メタデータ管理、I/O処理
- **3Dオブジェクト仕様書**: ボクセル構造、メッシュデータ構造、頂点統合、動的編集処理
- **着色システム仕様書**: カラーパレット実装、面ごとの色管理、ローカルストレージ永続化
- **アンドゥリドゥ仕様書**: 操作履歴スタック管理、5種類のアクション定義、復元処理
- **複数オブジェクト配置仕様書**: 隣接オブジェクト管理、6方向配置、GLTF読み込み、回転機能

### セクション4: シェーダー仕様書
**パス**: `docs/04.シェーダー仕様書/`  
**ステータス**: ✅ 完成  
**説明**: GLSL シェーダー実装仕様、頂点ハイライト、材質表現  
**対象者**: グラフィックスエンジニア

**主なコンテンツ**:
- **ボクセルメッシュシェーダー**: 標準的なボクセル面表示（ライティング計算）
- **頂点ハイライトシェーダー**: 青色（#4A90E2）の頂点スフィア表示
- **選択ハイライトシェーダー**: 黄色ハイライト表示（選択状態）
- **隣接オブジェクト用シェーダー**: 元のマテリアルを保持して表示
- **Uniform管理**: 共通uniform、ライト関連、頂点・選択・隣接オブジェクト関連
- **描画パイプライン**: レンダリング順序、ブレンドモード、デプステスト制御
- **パフォーマンス最適化**: バッチ処理、精度調整、演算量削減
- **トラブルシューティング**: よくある問題と解決策、拡張性

## 実装状況サマリー

### ✅ 実装完了
- 3Dオブジェクト管理（ボクセル追加・削除）
- カラーパレット（プリセット + カスタムカラー、ローカルストレージ永続化）
- 面着色機能
- カメラ操作（WASD回転、矢印キーパン、Qズーム）
- glw形式ファイル保存・読み込み
- gltf形式エクスポート（頂点カラー対応）
- アンドゥ・リドゥ機能
- 隣接オブジェクト配置（GLTF/GLB読み込み）
- 隣接オブジェクトY軸回転機能

### 🔄 将来実装予定
- フレーム単位モーション機能
- glb形式エクスポート

## 読み込み優先度（推奨学習順）

このドキュメント群は、以下の優先度で読むことを推奨します：

1. **01. システム要件定義書** ← 最初に読む
   - Boxel Editorの全体像と要件を理解
   - 機能仕様とシステム制約を把握

2. **02. 画面要件定義書** ← 次に読む
   - UI構成とインタラクションを理解
   - ユーザー体験の設計意図を把握

3. **03. システム仕様書** ← 実装時に参照
   - 各機能の技術的な実装詳細
   - データ構造とファイル形式

4. **04. シェーダー仕様書** ← グラフィックス実装時
   - GLSLシェーダーの実装詳細
   - レンダリングパイプライン

5. **99. コーディングルール** ← 開発時に常時参照
   - コードスタイルと命名規則
   - ベストプラクティス

## クイックリファレンス

### キーバインド

| 操作 | キー |
|------|------|
| カメラ回転（上下） | W / S |
| カメラ回転（左右） | A / D |
| カメラパン | ↑↓←→ 矢印キー |
| ズームイン | Q |
| ズームアウト | Shift + Q |

### ツールバー操作

| ボタン | 機能 |
|--------|------|
| 追加 | 選択した面の法線方向にボクセルを追加 |
| 削除 | 選択したボクセルを削除 |
| 着色 | 選択した面を現在の色で着色 |
| 開く | glw形式ファイルを開く |
| 保存 | glw形式ファイルに保存 |
| エクスポート | gltf形式でエクスポート |
| アンドゥ | 操作を元に戻す |
| リドゥ | 操作をやり直す |

### ファイル形式

| 形式 | 拡張子 | 用途 |
|------|--------|------|
| GLW | .glw | プロジェクト保存（内部形式） |
| GLTF | .gltf | エクスポート（外部互換） |
| GLB | .glb | 隣接オブジェクト読み込み |
